{"ast":null,"code":"import { FormGroup, Validators } from '@angular/forms';\nimport { SignupComponent } from '../signup/signup.component';\nimport { ForgetPasswordComponent } from '../forget-password/forget-password.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"./../../../services/api/api.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"src/app/services/notification/notification.service\";\nimport * as i6 from \"@angular/common\";\nfunction LoginComponent_i_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 21);\n  }\n}\nfunction LoginComponent_i_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 22);\n  }\n}\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(dialogref, dialog, fb, api_service, router, notify) {\n      this.dialogref = dialogref;\n      this.dialog = dialog;\n      this.fb = fb;\n      this.api_service = api_service;\n      this.router = router;\n      this.notify = notify;\n      this.form = FormGroup;\n      this.error = \"\";\n      this.show = false;\n    }\n    ngOnInit() {\n      this.password = 'password';\n      this.error = \"\";\n      this.form = this.fb.group({\n        username: ['', Validators.required],\n        password: ['', Validators.required],\n        remember: ['']\n      });\n    }\n    onClick() {\n      if (this.password === 'password') {\n        this.password = 'text';\n        this.show = true;\n      } else {\n        this.password = 'password';\n        this.show = false;\n      }\n    }\n    onSubmit() {\n      if (this.form.get('username').hasError('required')) {\n        this.error = \"Please Fill All Fields\";\n      }\n      if (this.form.get('password').hasError('required')) {\n        this.error = \"Please Fill All Fields\";\n      }\n      if (this.form.invalid) {\n        return;\n      }\n      const userData = {\n        userName: this.form.get(\"username\").value,\n        password: this.form.get(\"password\").value\n      };\n      const resp = this.api_service.login(userData);\n      resp.then(response => {\n        let response_msg = response.message.toLowerCase();\n        if (response_msg.includes(\"password\") || response_msg.includes(\"email\")) {\n          this.notify.invalidLogin(response.message);\n        } else if (response_msg.includes(\"success\")) {\n          sessionStorage.setItem(\"accessToken\", response.accessToken);\n          sessionStorage.setItem(\"user_signed_in\", \"true\");\n          this.dialogref.close(LoginComponent);\n          this.notify.loginSuccessfull();\n          setTimeout(() => {\n            location.reload();\n          }, 1500);\n        }\n      });\n    }\n    toggleAuth(event) {\n      event = event.target;\n      this.dialogref.close();\n      this.dialog.open(SignupComponent);\n    }\n    forgetPassword() {\n      this.dialogref.close();\n      this.dialog.open(ForgetPasswordComponent);\n    }\n    closeDialog() {\n      this.dialogref.close();\n    }\n    static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ApiService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.NotificationService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      decls: 32,\n      vars: 5,\n      consts: [[1, \"panel\"], [1, \"close-dialog\", 3, \"click\"], [1, \"fa-solid\", \"fa-xmark\", \"fa-lg\"], [1, \"text-center\", \"mt-3\"], [1, \"text-danger\", \"ErrorMessage\"], [3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"formControlName\", \"username\", \"placeholder\", \"Email/ Phone No.\", 1, \"form-control\"], [1, \"pos-rel\"], [\"formControlName\", \"password\", \"placeholder\", \"Password\", 1, \"form-control\", 3, \"type\"], [1, \"showpassword\"], [3, \"click\"], [\"class\", \"fa fa-eye\", \"aria-hidden\", \"true\", 4, \"ngIf\"], [\"class\", \"fa fa-eye-slash\", \"aria-hidden\", \"true\", 4, \"ngIf\"], [1, \"d-block\", \"actionblock\"], [1, \"inner\", \"inner-first\", \"fleft\"], [\"type\", \"checkbox\", \"id\", \"rember\", \"formControlName\", \"remember\", 1, \"radio\"], [\"for\", \"rember\"], [1, \"inner\", \"inner-second\", \"fright\"], [\"type\", \"submit\", 1, \"btn\", \"btn-danger\"], [1, \"starthere-Sec\"], [1, \"signup-link\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-eye\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-eye-slash\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_div_click_1_listener() {\n            return ctx.closeDialog();\n          });\n          i0.ɵɵelement(2, \"i\", 2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"h1\", 3);\n          i0.ɵɵtext(4, \"Log in\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\", 4);\n          i0.ɵɵtext(6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"form\", 5);\n          i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_7_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelement(8, \"input\", 6)(9, \"br\");\n          i0.ɵɵelementStart(10, \"span\", 7);\n          i0.ɵɵelement(11, \"input\", 8);\n          i0.ɵɵelementStart(12, \"span\", 9)(13, \"span\", 10);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_span_click_13_listener() {\n            return ctx.onClick();\n          });\n          i0.ɵɵtemplate(14, LoginComponent_i_14_Template, 1, 0, \"i\", 11);\n          i0.ɵɵtemplate(15, LoginComponent_i_15_Template, 1, 0, \"i\", 12);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(16, \"div\", 13)(17, \"div\", 14);\n          i0.ɵɵelement(18, \"input\", 15);\n          i0.ɵɵelementStart(19, \"label\", 16);\n          i0.ɵɵtext(20, \"Remember Me\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 17)(22, \"a\", 10);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_22_listener() {\n            return ctx.forgetPassword();\n          });\n          i0.ɵɵtext(23, \"Forgot Password?\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(24, \"button\", 18);\n          i0.ɵɵtext(25, \"Log in\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(26, \"br\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"span\", 19);\n          i0.ɵɵtext(28, \" New to BulkMein? \\u00A0\");\n          i0.ɵɵelementStart(29, \"a\", 20);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_29_listener($event) {\n            return ctx.toggleAuth($event);\n          });\n          i0.ɵɵtext(30, \"Start Here\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(31, \"br\");\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate(ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"formGroup\", ctx.form);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"type\", ctx.password);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", !ctx.show);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.show);\n        }\n      },\n      dependencies: [i6.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.CheckboxControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n      styles: [\".panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:Poppins;max-height:1000px;overflow-y:auto;width:546px;height:500px;position:relative;padding-bottom:20px}.actionblock[_ngcontent-%COMP%]{margin-top:20px}.fleft[_ngcontent-%COMP%]{float:left}.fright[_ngcontent-%COMP%]{float:right}.close-dialog[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px;color:gray;cursor:pointer}.fa-x-mark[_ngcontent-%COMP%]{color:#504e4e}h1[_ngcontent-%COMP%]{font-size:40px!important;font-weight:700;margin-bottom:10px}.text-danger[_ngcontent-%COMP%]{font-size:17px;float:left;margin-bottom:20px}.panel[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:380px;height:45px;border:1px solid rgb(155,154,154)}.error[_ngcontent-%COMP%]{font-size:14px;margin-top:2px;text-align:left;align-items:start;width:68%}.alert[_ngcontent-%COMP%]{width:380px}.d-flex[_ngcontent-%COMP%]{justify-content:space-between;width:70%}.radio[_ngcontent-%COMP%]{margin-right:5px}span.showpassword[_ngcontent-%COMP%]{position:absolute;top:0;right:13px;bottom:0;margin:auto;height:20px;cursor:pointer}.pos-rel[_ngcontent-%COMP%]{position:relative}.inner-first[_ngcontent-%COMP%]{color:#494949}.d-flex[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .inner-first[_ngcontent-%COMP%]{font-size:14px;font-family:Poppins}a[_ngcontent-%COMP%]{text-decoration:none;color:#404040}.btn[_ngcontent-%COMP%]{background-color:#da1212;margin-top:40px;width:380px;text-align:center;height:45px;font-size:19px}.text-center[_ngcontent-%COMP%]{margin-top:50px;text-align:center;font-size:17px}.text-center[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f03838}.black_link[_ngcontent-%COMP%]{color:#000;font-size:17px;margin-left:30%;font-weight:500}a[_ngcontent-%COMP%]{cursor:pointer}.d-grid[_ngcontent-%COMP%]{display:inline-block}.input-phone-prefix[_ngcontent-%COMP%]{width:60px!important}.input-phone-postfix[_ngcontent-%COMP%]{width:300px!important;margin-left:-90px!important}.signup-link[_ngcontent-%COMP%]{text-decoration:none}.starthere-Sec[_ngcontent-%COMP%]{margin-top:40px}@media screen and (max-width:500px){h1[_ngcontent-%COMP%]{font-size:30px!important}.panel[_ngcontent-%COMP%]{width:290px;padding-bottom:20px;height:auto}.panel[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .alert[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{width:210px}.d-flex[_ngcontent-%COMP%]{display:grid!important;justify-content:center}.d-flex[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{margin-top:6px}.d-flex[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .inner-first[_ngcontent-%COMP%]{font-size:13px}.text-center[_ngcontent-%COMP%]{font-size:13px;margin-left:0}.fleft[_ngcontent-%COMP%], .fright[_ngcontent-%COMP%]{display:block;float:inherit}.starthere-Sec[_ngcontent-%COMP%]{margin-top:15px}}@media screen and (min-width:501px) and (max-width:670px){.fleft[_ngcontent-%COMP%], .fright[_ngcontent-%COMP%]{display:block;float:inherit}.starthere-Sec[_ngcontent-%COMP%]{margin-top:15px}.panel[_ngcontent-%COMP%]{width:400px}.alert[_ngcontent-%COMP%]{width:210px}.panel[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:300px}.d-flex[_ngcontent-%COMP%]   .inner-first[_ngcontent-%COMP%], .d-flex[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}.btn[_ngcontent-%COMP%]{width:300px}}\"]\n    });\n  }\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}